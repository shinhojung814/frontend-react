{"ast":null,"code":"var _jsxFileName = \"/Users/shinhojung/git/raising-alien-creatures/client/src/pages/MultiAquarium/ListCtrl/SideBarModal2/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"./SideBarModal2.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport api from \"../../../../apis/index\";\nimport * as actions from \"../../../../Redux/actions/index.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function SideBarModal2() {\n  _s();\n\n  // console.log(\"alien밖: \", alien);\n  const showModal2 = useSelector(state => state.modalOnOff.showModal2);\n  const alien = useSelector(state => state.alien_auth_func.alien_auth);\n  const [authImage, setAuthImage] = useState(null);\n  const [authMessage, setAuthMessage] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const handleSubmit = async e => {\n    console.log(\"alien안: \", alien); // console.log(\"alien안_id: \", alien.alien.id);\n\n    e.preventDefault();\n    const res = await api.get(\"/main/s3Url\");\n    const {\n      url\n    } = res.data; // post the image direclty to the s3 bucket\n\n    if (authImage) {\n      await fetch(url, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        },\n        body: authImage[0]\n      });\n    }\n\n    const imageUrl = url.split(\"?\")[0];\n    const resp = {\n      user_info_id: alien.alien.user_info_id,\n      Alien_id: alien.alien.id,\n      Challenge_id: alien.alien.Challenge_id,\n      comments: authMessage,\n      image_url: imageUrl\n    }; // // dummy test용\n    // const resp = {\n    //   user_info_id: 1,\n    //   Alien_id: 1,\n    //   Challenge_id: 1,\n    //   requestUserNickname: \"John\",\n    //   comment: authMessage,\n    //   imgURL: imageUrl,\n    // };\n    // post requst to my server to store any extra data\n\n    const result = await api.post(\"/challenge/auth\", resp);\n    console.log(result);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: showModal2 ? \"ModalContainer2\" : \"hidden2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-md mx-auto bg-white rounded-lg overflow-hidden md:max-w-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:flex\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full px-4 py-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm\",\n                  children: \" Comment \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  type: \"text\",\n                  className: \"Comment\",\n                  onChange: e => {\n                    setAuthMessage(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-1\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-400\",\n                  children: \"\\uC778\\uC99D \\uC0AC\\uC9C4\\uACFC \\uC2E4\\uCC9C \\uB0B4\\uC6A9\\uC744 \\uAC04\\uB2E8\\uD788 \\uC124\\uBA85\\uD574\\uC8FC\\uC138\\uC694.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Attachments\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"Attachments\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-col items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fa fa-folder-open fa-3x text-blue-700\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 82,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"block text-gray-400 font-normal\",\n                        children: \"Drag or Attach your files here\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 83,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 81,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    className: \"h-full w-full opacity-0\",\n                    name: \"\",\n                    accept: \"image/*\",\n                    id: \"imageInput\",\n                    onChange: e => {\n                      setAuthImage(e.target.files); // processImage(e);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, this), authImage && authImage[0] ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: URL.createObjectURL(authImage[0])\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3 text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    dispatch(actions.showModal2(false));\n                  },\n                  children: \"\\uB4A4\\uB85C \\uAC00\\uAE30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSubmit,\n                  className: \" ml-2 h-8 w-20 bg-blue-600 rounded text-white hover:bg-blue-700 \",\n                  children: \"\\uC778\\uC99D\\uD558\\uAE30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(SideBarModal2, \"3l+6SCTms2bwoFN+CYIJf2bTaxU=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = SideBarModal2;\n\nvar _c;\n\n$RefreshReg$(_c, \"SideBarModal2\");","map":{"version":3,"sources":["/Users/shinhojung/git/raising-alien-creatures/client/src/pages/MultiAquarium/ListCtrl/SideBarModal2/index.js"],"names":["React","useState","useSelector","useDispatch","api","actions","SideBarModal2","showModal2","state","modalOnOff","alien","alien_auth_func","alien_auth","authImage","setAuthImage","authMessage","setAuthMessage","dispatch","handleSubmit","e","console","log","preventDefault","res","get","url","data","fetch","method","headers","body","imageUrl","split","resp","user_info_id","Alien_id","id","Challenge_id","comments","image_url","result","post","target","value","files","URL","createObjectURL"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./SideBarModal2.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport api from \"../../../../apis/index\";\nimport * as actions from \"../../../../Redux/actions/index.js\";\n\nexport default function SideBarModal2() {\n  // console.log(\"alien밖: \", alien);\n  const showModal2 = useSelector((state) => state.modalOnOff.showModal2);\n  const alien = useSelector((state) => state.alien_auth_func.alien_auth);\n  const [authImage, setAuthImage] = useState(null);\n  const [authMessage, setAuthMessage] = useState(\"\");\n  const dispatch = useDispatch();\n  const handleSubmit = async (e) => {\n    console.log(\"alien안: \", alien);\n    // console.log(\"alien안_id: \", alien.alien.id);\n    e.preventDefault();\n    const res = await api.get(\"/main/s3Url\");\n    const { url } = res.data;\n\n    // post the image direclty to the s3 bucket\n    if (authImage) {\n      await fetch(url, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n        body: authImage[0],\n      });\n    }\n    const imageUrl = url.split(\"?\")[0];\n    const resp = {\n      user_info_id: alien.alien.user_info_id,\n      Alien_id: alien.alien.id,\n      Challenge_id: alien.alien.Challenge_id,\n      comments: authMessage,\n      image_url: imageUrl,\n    };\n\n    // // dummy test용\n    // const resp = {\n    //   user_info_id: 1,\n    //   Alien_id: 1,\n    //   Challenge_id: 1,\n    //   requestUserNickname: \"John\",\n    //   comment: authMessage,\n    //   imgURL: imageUrl,\n    // };\n\n    // post requst to my server to store any extra data\n    const result = await api.post(\"/challenge/auth\", resp);\n    console.log(result);\n  };\n\n  return (\n    <>\n      <div>\n        <div className={showModal2 ? \"ModalContainer2\" : \"hidden2\"}>\n          <div className=\"max-w-md mx-auto bg-white rounded-lg overflow-hidden md:max-w-lg\">\n            <div className=\"md:flex\">\n              <div className=\"w-full px-4 py-6\">\n                <div className=\"mb-1\">\n                  <span className=\"text-sm\"> Comment </span>\n                  <textarea\n                    type=\"text\"\n                    className=\"Comment\"\n                    onChange={(e) => {\n                      setAuthMessage(e.target.value);\n                    }}\n                  ></textarea>\n                </div>\n                <div className=\"mb-1\">\n                  <span className=\"text-sm text-gray-400\">\n                    인증 사진과 실천 내용을 간단히 설명해주세요.\n                  </span>\n                </div>\n                <div className=\"mb-1\">\n                  <span>Attachments</span>\n                  <div className=\"Attachments\">\n                    <div className=\"absolute\">\n                      <div className=\"flex flex-col items-center\">\n                        <i className=\"fa fa-folder-open fa-3x text-blue-700\"></i>\n                        <span className=\"block text-gray-400 font-normal\">\n                          Drag or Attach your files here\n                        </span>\n                      </div>\n                    </div>\n\n                    <input\n                      type=\"file\"\n                      className=\"h-full w-full opacity-0\"\n                      name=\"\"\n                      accept=\"image/*\"\n                      id=\"imageInput\"\n                      onChange={(e) => {\n                        setAuthImage(e.target.files);\n                        // processImage(e);\n                      }}\n                    />\n                  </div>\n                </div>\n                {authImage && authImage[0] ? (\n                  <img src={URL.createObjectURL(authImage[0])}></img>\n                ) : (\n                  <div></div>\n                )}\n                <div className=\"mt-3 text-right\">\n                  <button\n                    onClick={() => {\n                      dispatch(actions.showModal2(false));\n                    }}\n                  >\n                    뒤로 가기\n                  </button>\n                  <button\n                    onClick={handleSubmit}\n                    className=\"\n                ml-2\n                h-8\n                w-20\n                bg-blue-600\n                rounded\n                text-white\n                hover:bg-blue-700\n              \"\n                  >\n                    인증하기\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}