{"ast":null,"code":"var _jsxFileName = \"/Users/shinhojung/git/raising-alien-creatures/client/src/pages/MultiAquarium/ListCtrl/PostList/index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useCallback, useState } from \"react\";\nimport \"./PostList.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport * as actions from \"../../../../Redux/actions/index.js\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../../../../apis/index\";\nimport { S3URL } from \"../../../../shared/lib/Constants\";\nimport classNames from \"classnames/bind\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst cx = classNames.bind();\nconst PostItem = /*#__PURE__*/React.memo(_c = _s(function PostItem({\n  alien,\n  type,\n  selectedAlien,\n  handleSelectAlien\n}) {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    userId\n  } = useSelector(state => ({\n    userId: state.user.user.id\n  }));\n\n  const onClickGraduate = async () => {\n    let req = {\n      alien_id: alien.id\n    };\n    let res = await api.post(\"/alien/graduation\", req);\n    if (res.data.result === \"success\") dispatch(actions.setPopupModal(\"GRADUATE_ALIEN\", `${alien.alien_name} 졸업했습니다`, \"SUCC\", () => {\n      dispatch(actions.graduate(alien.id));\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"PostItemBlock\",\n      onClick: () => handleSelectAlien(alien.id),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"\\uCC4C\\uB9B0\\uC9C0 : \\\"\", alien.challenge_name, \"\\\"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"images\",\n          style: {\n            backgroundImage: `url(\"${S3URL + alien.image_url.split(\"-\")[0]}\")`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"SubInfo\",\n          children: [type === \"challenge\" && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uCC38\\uAC00\\uC790 : \", alien.user_nickname]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 38\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uBCC4\\uBA85 : \", alien.alien_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uCD9C\\uC0DD\\uC77C : \", alien.created_date.split(\"T\")[0]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uC778\\uC99D \\uD69F\\uC218 : \", alien.accumulated_count, \"\\uBC88\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons\",\n        children: [type === \"personal\" && alien.alien_status === 0 && alien.user_info_id === userId && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"StyledButton\",\n          onClick: () => {\n            // TODO: 통합하기\n            dispatch(actions.selectAlien(alien.id));\n            dispatch(actions.showAuthRequest(true));\n          },\n          children: \"\\uC778\\uC99D\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), type !== \"challenge\" && alien.alien_status === 0 && /*#__PURE__*/_jsxDEV(Link, {\n          to: `/challenge/${alien.challenge_id}/room`,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"StyledButton\",\n            children: \"\\uCC4C\\uB9B0\\uC9C0 \\uC5B4\\uD56D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), type === \"challenge\" && /*#__PURE__*/_jsxDEV(Link, {\n          to: `/user/${alien.user_info_id}/room`,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"StyledButton\",\n            children: \"\\uCC38\\uAC00\\uC790 \\uC5B4\\uD56D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), type === \"personal\" && alien.alien_status === 0 && alien.user_info_id === userId && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"StyledButton\",\n          onClick: onClickGraduate,\n          children: \"\\uC878\\uC5C5 \\uC2E0\\uCCAD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}, \"xhjTZl2rUwTEJFiTy3AH+gN+wSk=\", false, function () {\n  return [useDispatch, useSelector];\n}));\n_c2 = PostItem;\n\nfunction PostList({\n  type,\n  handleSelectAlien\n}) {\n  _s2();\n\n  const {\n    aliens_list,\n    selectedAlien\n  } = useSelector(({\n    room\n  }) => ({\n    aliens_list: room.aliens,\n    selectedAlien: room.selectedAlien\n  }));\n  const {\n    userId\n  } = useSelector(({\n    user\n  }) => ({\n    userId: user.user\n  }));\n  const [category, setCategory] = useState(false);\n  const [sort, setSort] = useState(\"a\");\n  const [isMenuOn, setIsMenuOn] = useState(false); // functions for sort\n\n  const recentCreate = useCallback((a, b) => {\n    return new Date(b.created_date).getTime() - new Date(a.created_date).getTime();\n  }, []);\n\n  const leastRecentCreate = (a, b) => {\n    return new Date(a.created_date).getTime() - new Date(b.created_date).getTime();\n  };\n\n  const mostCommit = (a, b) => {\n    return b.accumulated_count - a.accumulated_count;\n  };\n\n  const leastCommit = (a, b) => {\n    return a.accumulated_count - b.accumulated_count;\n  };\n\n  const sortClick = e => {\n    setSort(e.target.value);\n    setIsMenuOn(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"PostListBlock\",\n    children: [/*#__PURE__*/_jsxDEV(ToggleBtn, {\n      isMenuOn: isMenuOn,\n      setIsMenuOn: setIsMenuOn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), isMenuOn ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dropContent\",\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"a\",\n        onClick: sortClick,\n        children: [\" \", \"\\uCD94\\uAC00\\uB41C \\uB0A0\\uC9DC (\\uCD5C\\uC2E0 \\uC21C)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"b\",\n        onClick: sortClick,\n        children: [\" \", \"\\uCD94\\uAC00\\uB41C \\uB0A0\\uC9DC (\\uC624\\uB798\\uB41C \\uC21C)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"c\",\n        onClick: sortClick,\n        children: [\" \", \"\\uCEE4\\uBC0B \\uD69F\\uC218(\\uAC00\\uC7A5 \\uB9CE\\uC740 \\uC21C)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"d\",\n        onClick: sortClick,\n        children: [\" \", \"\\uCEE4\\uBC0B \\uD69F\\uC218(\\uAC00\\uC7A5 \\uB0AE\\uC740 \\uC21C)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: category === false ? \"selected\" : null,\n        onClick: () => setCategory(category => !category),\n        children: \"\\u2218 \\uC9C4\\uD589\\uC911\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: category === true ? \"selected\" : null,\n        onClick: () => setCategory(category => !category),\n        children: \"\\u2218 \\uC878\\uC5C5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), aliens_list.sort((a, b) => {\n      if (sort === \"a\") return recentCreate(a, b);else if (sort === \"b\") return leastRecentCreate(a, b);else if (sort === \"c\") return mostCommit(a, b);else return leastCommit(a, b);\n    }).map(alien => Boolean(alien.alien_status) === category ? /*#__PURE__*/_jsxDEV(PostItem, {\n      alien: alien,\n      type: type,\n      userId: userId,\n      selectedAlien: selectedAlien,\n      handleSelectAlien: handleSelectAlien\n    }, alien.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this) : null)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(PostList, \"a7RCq84m0QJwsXQi0y64WHx4fVM=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c3 = PostList;\nexport default PostList;\n\nfunction ToggleBtn(props) {\n  const {\n    isMenuOn,\n    setIsMenuOn\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"toggleBtn\",\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"text-gray-500 w-10 h-10 relative focus:outline-none bg-transparent\",\n      onClick: () => setIsMenuOn(!isMenuOn),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block w-5 absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          \"aria-hidden\": \"true\",\n          className: cx(\"block absolute h-0.5 w-5 bg-white transform transition duration-500 ease-in-out\", isMenuOn ? \"\" : \"-translate-y-1.5\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          \"aria-hidden\": \"true\",\n          className: cx(\"block absolute h-0.5 w-5 bg-white transform transition duration-500 ease-in-out\", isMenuOn ? \"\" : \"\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          \"aria-hidden\": \"true\",\n          className: cx(\"block absolute h-0.5 w-5 bg-white transform transition duration-500 ease-in-out\", isMenuOn ? \"\" : \"translate-y-1.5\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n}\n\n_c4 = ToggleBtn;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"PostItem$React.memo\");\n$RefreshReg$(_c2, \"PostItem\");\n$RefreshReg$(_c3, \"PostList\");\n$RefreshReg$(_c4, \"ToggleBtn\");","map":{"version":3,"sources":["/Users/shinhojung/git/raising-alien-creatures/client/src/pages/MultiAquarium/ListCtrl/PostList/index.js"],"names":["React","useCallback","useState","useSelector","useDispatch","actions","Link","api","S3URL","classNames","cx","bind","PostItem","memo","alien","type","selectedAlien","handleSelectAlien","dispatch","userId","state","user","id","onClickGraduate","req","alien_id","res","post","data","result","setPopupModal","alien_name","graduate","challenge_name","backgroundImage","image_url","split","user_nickname","created_date","accumulated_count","alien_status","user_info_id","selectAlien","showAuthRequest","challenge_id","PostList","aliens_list","room","aliens","category","setCategory","sort","setSort","isMenuOn","setIsMenuOn","recentCreate","a","b","Date","getTime","leastRecentCreate","mostCommit","leastCommit","sortClick","e","target","value","map","Boolean","ToggleBtn","props"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from \"react\";\nimport \"./PostList.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport * as actions from \"../../../../Redux/actions/index.js\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../../../../apis/index\";\nimport { S3URL } from \"../../../../shared/lib/Constants\";\nimport classNames from \"classnames/bind\";\nconst cx = classNames.bind();\n\nconst PostItem = React.memo(function PostItem({\n  alien,\n  type,\n  selectedAlien,\n  handleSelectAlien,\n}) {\n  const dispatch = useDispatch();\n  const { userId } = useSelector((state) => ({\n    userId: state.user.user.id,\n  }));\n\n  const onClickGraduate = async () => {\n    let req = { alien_id: alien.id };\n    let res = await api.post(\"/alien/graduation\", req);\n    if (res.data.result === \"success\")\n      dispatch(\n        actions.setPopupModal(\n          \"GRADUATE_ALIEN\",\n          `${alien.alien_name} 졸업했습니다`,\n          \"SUCC\",\n          () => {\n            dispatch(actions.graduate(alien.id));\n          }\n        )\n      );\n  };\n  return (\n    <>\n      <div\n        className=\"PostItemBlock\"\n        onClick={() => handleSelectAlien(alien.id)}\n      >\n        <h2>챌린지 : \"{alien.challenge_name}\"</h2>\n        <div className=\"Content\">\n          <div\n            className=\"images\"\n            style={{\n              backgroundImage: `url(\"${\n                S3URL + alien.image_url.split(\"-\")[0]\n              }\")`,\n            }}\n          />\n          <div className=\"SubInfo\">\n            {type === \"challenge\" && <p>참가자 : {alien.user_nickname}</p>}\n            <p>별명 : {alien.alien_name}</p>\n            <p>출생일 : {alien.created_date.split(\"T\")[0]}</p>\n            <p>인증 횟수 : {alien.accumulated_count}번</p>\n          </div>\n        </div>\n        <div className=\"buttons\">\n          {/* // TODO: 인증 가능 여부에 맞게 버튼 처리하기!  */}\n          {type === \"personal\" &&\n            alien.alien_status === 0 &&\n            alien.user_info_id === userId && (\n              <button\n                className=\"StyledButton\"\n                onClick={() => {\n                  // TODO: 통합하기\n                  dispatch(actions.selectAlien(alien.id));\n                  dispatch(actions.showAuthRequest(true));\n                }}\n              >\n                인증하기\n              </button>\n            )}\n          {type !== \"challenge\" && alien.alien_status === 0 && (\n            <Link to={`/challenge/${alien.challenge_id}/room`}>\n              <button className=\"StyledButton\">챌린지 어항</button>\n            </Link>\n          )}\n          {type === \"challenge\" && (\n            <Link to={`/user/${alien.user_info_id}/room`}>\n              <button className=\"StyledButton\">참가자 어항</button>\n            </Link>\n          )}\n          {type === \"personal\" &&\n            alien.alien_status === 0 &&\n            alien.user_info_id === userId && (\n              <button className=\"StyledButton\" onClick={onClickGraduate}>\n                졸업 신청\n              </button>\n            )}\n        </div>\n      </div>\n    </>\n  );\n});\n\nfunction PostList({ type, handleSelectAlien }) {\n  const { aliens_list, selectedAlien } = useSelector(({ room }) => ({\n    aliens_list: room.aliens,\n    selectedAlien: room.selectedAlien,\n  }));\n  const { userId } = useSelector(({ user }) => ({\n    userId: user.user,\n  }));\n\n  const [category, setCategory] = useState(false);\n  const [sort, setSort] = useState(\"a\");\n  const [isMenuOn, setIsMenuOn] = useState(false);\n\n  // functions for sort\n  const recentCreate = useCallback((a, b) => {\n    return (\n      new Date(b.created_date).getTime() - new Date(a.created_date).getTime()\n    );\n  }, []);\n  const leastRecentCreate = (a, b) => {\n    return (\n      new Date(a.created_date).getTime() - new Date(b.created_date).getTime()\n    );\n  };\n  const mostCommit = (a, b) => {\n    return b.accumulated_count - a.accumulated_count;\n  };\n  const leastCommit = (a, b) => {\n    return a.accumulated_count - b.accumulated_count;\n  };\n\n  const sortClick = (e) => {\n    setSort(e.target.value);\n    setIsMenuOn(false);\n  };\n\n  return (\n    <div className=\"PostListBlock\">\n      <ToggleBtn isMenuOn={isMenuOn} setIsMenuOn={setIsMenuOn} />\n      {isMenuOn ? (\n        <div className=\"dropContent\">\n          <option value=\"a\" onClick={sortClick}>\n            {\" \"}\n            추가된 날짜 (최신 순)\n          </option>\n          <option value=\"b\" onClick={sortClick}>\n            {\" \"}\n            추가된 날짜 (오래된 순)\n          </option>\n          <option value=\"c\" onClick={sortClick}>\n            {\" \"}\n            커밋 횟수(가장 많은 순)\n          </option>\n          <option value=\"d\" onClick={sortClick}>\n            {\" \"}\n            커밋 횟수(가장 낮은 순)\n          </option>\n        </div>\n      ) : null}\n      <ul>\n        <span\n          className={category === false ? \"selected\" : null}\n          onClick={() => setCategory((category) => !category)}\n        >\n          ∘ 진행중\n        </span>\n        <span\n          className={category === true ? \"selected\" : null}\n          onClick={() => setCategory((category) => !category)}\n        >\n          ∘ 졸업\n        </span>\n      </ul>\n\n      {aliens_list\n        .sort((a, b) => {\n          if (sort === \"a\") return recentCreate(a, b);\n          else if (sort === \"b\") return leastRecentCreate(a, b);\n          else if (sort === \"c\") return mostCommit(a, b);\n          else return leastCommit(a, b);\n        })\n        .map((alien) =>\n          Boolean(alien.alien_status) === category ? (\n            <PostItem\n              key={alien.id}\n              alien={alien}\n              type={type}\n              userId={userId}\n              selectedAlien={selectedAlien}\n              handleSelectAlien={handleSelectAlien}\n            />\n          ) : null\n        )}\n    </div>\n  );\n}\n\nexport default PostList;\n\nfunction ToggleBtn(props) {\n  const { isMenuOn, setIsMenuOn } = props;\n  return (\n    <nav className=\"toggleBtn\">\n      <button\n        className=\"text-gray-500 w-10 h-10 relative focus:outline-none bg-transparent\"\n        onClick={() => setIsMenuOn(!isMenuOn)}\n      >\n        <div className=\"block w-5 absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2\">\n          <span\n            aria-hidden=\"true\"\n            className={cx(\n              \"block absolute h-0.5 w-5 bg-white transform transition duration-500 ease-in-out\",\n              isMenuOn ? \"\" : \"-translate-y-1.5\"\n            )}\n          ></span>\n          <span\n            aria-hidden=\"true\"\n            className={cx(\n              \"block absolute h-0.5 w-5 bg-white transform transition duration-500 ease-in-out\",\n              isMenuOn ? \"\" : \"\"\n            )}\n          ></span>\n          <span\n            aria-hidden=\"true\"\n            className={cx(\n              \"block absolute h-0.5 w-5 bg-white transform transition duration-500 ease-in-out\",\n              isMenuOn ? \"\" : \"translate-y-1.5\"\n            )}\n          ></span>\n        </div>\n      </button>\n    </nav>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}