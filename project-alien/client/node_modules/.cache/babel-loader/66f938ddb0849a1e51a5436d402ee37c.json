{"ast":null,"code":"var _jsxFileName = \"/Users/shinhojung/git/raising-alien-creatures/client/src/pages/MultiAquarium/SearchBox/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../../../apis\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as actions from \"../../../Redux/actions\";\nimport searchIcon from \"../../../image/search-icon.png\";\nimport backIcon from \"../../../image/goback-icon.png\";\nimport styles from \"./index.module.css\";\nimport classNames from \"classnames/bind\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cx = classNames.bind(styles);\nexport default function SearchBox(props) {\n  _s();\n\n  const [longer, setLonger] = useState(false);\n  const [challengeList, setChallengeList] = useState(null);\n  const [searchKeyword, setSearchKeyword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const tags = [\"전체\", \"건강\", \"운동\", \"공부\", \"독서\", \"취미\"];\n  const dispatch = useDispatch();\n  const {\n    user\n  } = useSelector(({\n    user\n  }) => ({\n    user: user.user\n  }));\n  const showSignInModal = useSelector(state => state.modalOnOff.showSignInModal);\n\n  const switchSignInModal = () => {\n    dispatch(actions.showSignUpModal(false));\n    dispatch(actions.showSignInModal(!showSignInModal));\n  };\n\n  const backClick = () => {\n    setLonger(false);\n    setMessage(\"\");\n  };\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    let keyword = {\n      keyword: searchKeyword\n    };\n    let res = await api.post(\"/challenge/search\", keyword);\n\n    if (res.data.result !== \"success\") {\n      console.log(\"안받아와짐\");\n      return;\n    }\n\n    if (res.data.result === \"success\") {\n      if (res.data.challenge.length === 0) {\n        setMessage(\"검색된 챌린지가 없습니다\");\n      } else {\n        setChallengeList(res.data.challenge);\n        setLonger(true);\n        setMessage(\"\");\n      }\n\n      return;\n    }\n  };\n\n  const clickTag = useCallback(async tag => {\n    setSearchKeyword(tag);\n    let keyword = {\n      category: tag\n    };\n    let res = await api.post(\"/challenge/searchCategory\", keyword);\n\n    if (res.data.result !== \"success\") {\n      console.log(\"안받아와짐\");\n      return;\n    }\n\n    if (res.data.result === \"success\") {\n      if (res.data.challenge.length === 0) {\n        setMessage(\"검색된 챌린지가 없습니다\");\n      } else {\n        setChallengeList(res.data.challenge);\n        setLonger(true);\n        setMessage(\"\");\n      }\n\n      return;\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: cx(\"SearchBox\", {\n      longer\n    }),\n    children: [longer && /*#__PURE__*/_jsxDEV(\"img\", {\n      className: styles.backBtn,\n      onClick: backClick,\n      alt: \"\\uB4A4\\uB85C\\uAC00\\uAE30\",\n      src: backIcon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), user.login ? /*#__PURE__*/_jsxDEV(Link, {\n      to: `/challenge/new`,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.newChalBtn,\n        children: \"새로운 챌린지 생성\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      className: styles.newChalBtn,\n      onClick: () => switchSignInModal(),\n      children: \"새로운 챌린지 생성\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        className: styles.searchForm,\n        onSubmit: onSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.double,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"input\",\n            placeholder: \" \",\n            value: searchKeyword,\n            onChange: e => setSearchKeyword(e.target.value),\n            autoComplete: \"off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"input\",\n            children: \"\\uC5B4\\uB5A4 \\uCC4C\\uB9B0\\uC9C0\\uB97C \\uCC3E\\uC73C\\uC138\\uC694?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: styles.searchBtn,\n            onClick: onSubmit,\n            alt: \"searchBtn\",\n            src: searchIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.errMsg,\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.tags,\n        children: tags.map(tag => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.tag,\n          onClick: () => clickTag(tag),\n          children: [\"#\", tag]\n        }, tag, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), longer && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.findChallenge,\n      children: challengeList.map(challenge => /*#__PURE__*/_jsxDEV(ChallengeItem, {\n        challenge: challenge\n      }, challenge.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchBox, \"0Pi7eJgEwguN1wgDAwwmbjmOi2g=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = SearchBox;\n\nconst ChallengeItem = ({\n  challenge\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: cx(\"challengeItem\"),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.challengeName,\n      children: challenge.challenge_name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      className: styles.challengeImg,\n      alt: \"yammy\",\n      src: challenge.img_url\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.participant,\n      children: [\"\\uCC38\\uC5EC\\uC778\\uC6D0: \", challenge.participant_number, \"/\", challenge.maximum_number, \"\\uBA85\", \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), \"\\uC8FC \\uC778\\uC99D\\uD69F\\uC218: \", challenge.times_per_week, \"\\uBC88\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"\\uC0DD\\uC131\\uC77C: \", challenge.created_date.split(\"T\")[0], \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 53\n      }, this), \"\\uC0DD\\uC131\\uC6D0: \", challenge.user_nickname]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.Details,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: challenge.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.challengeButton,\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: `/challenge/${challenge.id}/room`,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.challengeButton,\n          children: \"\\uCC4C\\uB9B0\\uC9C0 \\uBC29 \\uAC00\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = ChallengeItem;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SearchBox\");\n$RefreshReg$(_c2, \"ChallengeItem\");","map":{"version":3,"sources":["/Users/shinhojung/git/raising-alien-creatures/client/src/pages/MultiAquarium/SearchBox/index.js"],"names":["React","useCallback","useState","Link","api","useDispatch","useSelector","actions","searchIcon","backIcon","styles","classNames","cx","bind","SearchBox","props","longer","setLonger","challengeList","setChallengeList","searchKeyword","setSearchKeyword","message","setMessage","tags","dispatch","user","showSignInModal","state","modalOnOff","switchSignInModal","showSignUpModal","backClick","onSubmit","e","preventDefault","keyword","res","post","data","result","console","log","challenge","length","clickTag","tag","category","backBtn","login","newChalBtn","header","searchForm","double","target","value","searchBtn","errMsg","map","findChallenge","id","ChallengeItem","challengeName","challenge_name","challengeImg","img_url","participant","participant_number","maximum_number","times_per_week","created_date","split","user_nickname","Details","description","challengeButton"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from \"react\";\n\nimport { Link } from \"react-router-dom\";\nimport api from \"../../../apis\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as actions from \"../../../Redux/actions\";\n\nimport searchIcon from \"../../../image/search-icon.png\";\nimport backIcon from \"../../../image/goback-icon.png\";\n\nimport styles from \"./index.module.css\";\nimport classNames from \"classnames/bind\";\nconst cx = classNames.bind(styles);\n\nexport default function SearchBox(props) {\n  const [longer, setLonger] = useState(false);\n  const [challengeList, setChallengeList] = useState(null);\n  const [searchKeyword, setSearchKeyword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const tags = [\"전체\", \"건강\", \"운동\", \"공부\", \"독서\", \"취미\"];\n\n  const dispatch = useDispatch();\n\n  const { user } = useSelector(({ user }) => ({ user: user.user }));\n  const showSignInModal = useSelector(\n    (state) => state.modalOnOff.showSignInModal\n  );\n\n  const switchSignInModal = () => {\n    dispatch(actions.showSignUpModal(false));\n    dispatch(actions.showSignInModal(!showSignInModal));\n  };\n\n  const backClick = () => {\n    setLonger(false);\n    setMessage(\"\");\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n\n    let keyword = { keyword: searchKeyword };\n    let res = await api.post(\"/challenge/search\", keyword);\n    if (res.data.result !== \"success\") {\n      console.log(\"안받아와짐\");\n      return;\n    }\n    if (res.data.result === \"success\") {\n      if (res.data.challenge.length === 0) {\n        setMessage(\"검색된 챌린지가 없습니다\");\n      } else {\n        setChallengeList(res.data.challenge);\n        setLonger(true);\n        setMessage(\"\");\n      }\n      return;\n    }\n  };\n\n  const clickTag = useCallback(async (tag) => {\n    setSearchKeyword(tag);\n    let keyword = { category: tag };\n    let res = await api.post(\"/challenge/searchCategory\", keyword);\n    if (res.data.result !== \"success\") {\n      console.log(\"안받아와짐\");\n      return;\n    }\n    if (res.data.result === \"success\") {\n      if (res.data.challenge.length === 0) {\n        setMessage(\"검색된 챌린지가 없습니다\");\n      } else {\n        setChallengeList(res.data.challenge);\n        setLonger(true);\n        setMessage(\"\");\n      }\n      return;\n    }\n  }, []);\n\n  return (\n    <div className={cx(\"SearchBox\", { longer })}>\n      {longer && (\n        <img\n          className={styles.backBtn}\n          onClick={backClick}\n          alt=\"뒤로가기\"\n          src={backIcon}\n        ></img>\n      )}\n      {user.login ? (\n        <Link to={`/challenge/new`}>\n          <button className={styles.newChalBtn}>{\"새로운 챌린지 생성\"}</button>\n        </Link>\n      ) : (\n        <button\n          className={styles.newChalBtn}\n          onClick={() => switchSignInModal()}\n        >\n          {\"새로운 챌린지 생성\"}\n        </button>\n      )}\n      <div className={styles.header}>\n        <form className={styles.searchForm} onSubmit={onSubmit}>\n          <div className={styles.double}>\n            <input\n              id=\"input\"\n              placeholder=\" \"\n              value={searchKeyword}\n              onChange={(e) => setSearchKeyword(e.target.value)}\n              autoComplete=\"off\"\n            />\n            <label htmlFor=\"input\">어떤 챌린지를 찾으세요?</label>\n            <img\n              className={styles.searchBtn}\n              onClick={onSubmit}\n              alt=\"searchBtn\"\n              src={searchIcon}\n            ></img>\n            {message && <p className={styles.errMsg}>{message}</p>}\n          </div>\n        </form>\n        <div className={styles.tags}>\n          {tags.map((tag) => (\n            <div key={tag} className={styles.tag} onClick={() => clickTag(tag)}>\n              #{tag}\n            </div>\n          ))}\n        </div>\n      </div>\n      {longer && (\n        <div className={styles.findChallenge}>\n          {challengeList.map((challenge) => (\n            <ChallengeItem\n              key={challenge.id}\n              challenge={challenge}\n            ></ChallengeItem>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst ChallengeItem = ({ challenge }) => {\n  return (\n    <div className={cx(\"challengeItem\")}>\n      <div className={styles.challengeName}>{challenge.challenge_name}</div>\n      <img\n        className={styles.challengeImg}\n        alt=\"yammy\"\n        src={challenge.img_url}\n      />\n      <div className={styles.participant}>\n        참여인원: {challenge.participant_number}/{challenge.maximum_number}명{\" \"}\n        <br />주 인증횟수: {challenge.times_per_week}번\n      </div>\n      <div>\n        생성일: {challenge.created_date.split(\"T\")[0]} <br />\n        생성원: {challenge.user_nickname}\n      </div>\n      <div className={styles.Details}>\n        <div>{challenge.description}</div>\n      </div>\n      <div className={styles.challengeButton}>\n        <Link to={`/challenge/${challenge.id}/room`}>\n          <button className={styles.challengeButton}>챌린지 방 가기</button>\n        </Link>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}