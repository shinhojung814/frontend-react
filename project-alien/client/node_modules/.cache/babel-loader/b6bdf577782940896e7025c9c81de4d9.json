{"ast":null,"code":"var _jsxFileName = \"/Users/shinhojung/git/raising-alien-creatures/client/src/pages/MultiAquarium/ListCtrl/SideBarModal2/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"./AuthRequestModal.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport api from \"../../../../apis/index\";\nimport * as actions from \"../../../../Redux/actions/index.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AuthRequestModal() {\n  _s();\n\n  const showModal2 = useSelector(state => state.modalOnOff.showModal2);\n  const alien = useSelector(state => state.alien_auth_func.alien_auth);\n  const [authImage, setAuthImage] = useState(null);\n  const [authMessage, setAuthMessage] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const handleSubmit = async e => {\n    /* 예외 처리 Handling 1. */\n    let day = {\n      1: \"mon\",\n      2: \"tue\",\n      3: \"wed\",\n      4: \"thu\",\n      5: \"fri\",\n      6: \"sat\",\n      0: \"sun\"\n    };\n    let date = new Date(new Date().toLocaleString(\"en-US\", {\n      timeZone: \"Asia/Seoul\"\n    }));\n    let today = day[date.getDay()];\n\n    if (alien.alien[today] === 0) {\n      console.log(\"인증 가능 요일이 아닙니다.\");\n      return;\n    } else {}\n    /* 예외 처리 Handling 2. */\n\n\n    if (alien.alien.practice_status > 0) {\n      /* 해당 날짜에 이미 요청된 Alien 인 경우 -> front에서 Error 문구 처리 부탁드립니다. */\n      console.log(\"이미 인증요청 완료된 건 입니다.\");\n      return;\n    } else {\n      alien.alien.practice_status = 1;\n    }\n\n    e.preventDefault();\n    const res = await api.get(\"/main/s3Url\");\n    const {\n      url\n    } = res.data; // post the image direclty to the s3 bucket\n\n    if (authImage) {\n      await fetch(url, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        },\n        body: authImage[0]\n      });\n    }\n\n    const imageUrl = url.split(\"?\")[0];\n    const resp = {\n      user_info_id: alien.alien.user_info_id,\n      alien_id: alien.alien.id,\n      challenge_id: alien.alien.challenge_id,\n      comments: authMessage,\n      image_url: imageUrl\n    }; // post requst to my server to store any extra data\n\n    const result = await api.post(\"/challenge/auth\", resp);\n    console.log(result);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: showAuthRequestModal ? \"AuthRequestModal\" : \"hidden\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-md mx-auto bg-white rounded-lg overflow-hidden md:max-w-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:flex\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full px-4 py-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm\",\n                  children: \" Comment \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  type: \"text\",\n                  className: \"Comment\",\n                  placeholder: \"\\uC778\\uC99D \\uC0AC\\uC9C4\\uACFC \\uC2E4\\uCC9C \\uB0B4\\uC6A9\\uC744 \\uAC04\\uB2E8\\uD788 \\uC124\\uBA85\\uD574\\uC8FC\\uC138\\uC694.\",\n                  onChange: e => {\n                    setAuthMessage(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uC778\\uC99D \\uC0AC\\uC9C4 \\uCCA8\\uBD80\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"Attachments\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-col items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fa fa-folder-open fa-3x text-blue-700\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 100,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"block text-gray-400 font-normal\",\n                        children: \"\\uCC4C\\uB9B0\\uC9C0 \\uC778\\uC99D \\uC0AC\\uC9C4\\uC744 \\uCCA8\\uBD80\\uD558\\uC138\\uC694.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 101,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    className: \"h-full w-full opacity-0\",\n                    name: \"\",\n                    accept: \"image/*\",\n                    id: \"imageInput\",\n                    onChange: e => {\n                      setAuthImage(e.target.files); // processImage(e);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this), authImage && authImage[0] ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: URL.createObjectURL(authImage[0])\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3 text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    dispatch(actions.showModal2(false));\n                  },\n                  children: \"\\uB4A4\\uB85C \\uAC00\\uAE30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSubmit,\n                  className: \" ml-2 h-8 w-20 bg-blue-600 rounded text-white hover:bg-blue-700 \",\n                  children: \"\\uC778\\uC99D\\uD558\\uAE30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(AuthRequestModal, \"3l+6SCTms2bwoFN+CYIJf2bTaxU=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = AuthRequestModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthRequestModal\");","map":{"version":3,"sources":["/Users/shinhojung/git/raising-alien-creatures/client/src/pages/MultiAquarium/ListCtrl/SideBarModal2/index.js"],"names":["React","useState","useSelector","useDispatch","api","actions","AuthRequestModal","showModal2","state","modalOnOff","alien","alien_auth_func","alien_auth","authImage","setAuthImage","authMessage","setAuthMessage","dispatch","handleSubmit","e","day","date","Date","toLocaleString","timeZone","today","getDay","console","log","practice_status","preventDefault","res","get","url","data","fetch","method","headers","body","imageUrl","split","resp","user_info_id","alien_id","id","challenge_id","comments","image_url","result","post","showAuthRequestModal","target","value","files","URL","createObjectURL"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./AuthRequestModal.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport api from \"../../../../apis/index\";\nimport * as actions from \"../../../../Redux/actions/index.js\";\n\nexport default function AuthRequestModal() {\n  const showModal2 = useSelector((state) => state.modalOnOff.showModal2);\n  const alien = useSelector((state) => state.alien_auth_func.alien_auth);\n  const [authImage, setAuthImage] = useState(null);\n  const [authMessage, setAuthMessage] = useState(\"\");\n  const dispatch = useDispatch();\n  const handleSubmit = async (e) => {\n    /* 예외 처리 Handling 1. */\n    let day = {\n      1: \"mon\",\n      2: \"tue\",\n      3: \"wed\",\n      4: \"thu\",\n      5: \"fri\",\n      6: \"sat\",\n      0: \"sun\",\n    };\n\n    let date = new Date(\n      new Date().toLocaleString(\"en-US\", { timeZone: \"Asia/Seoul\" })\n    );\n    let today = day[date.getDay()];\n    if (alien.alien[today] === 0) {\n      console.log(\"인증 가능 요일이 아닙니다.\");\n      return;\n    } else {\n    }\n\n    /* 예외 처리 Handling 2. */\n    if (alien.alien.practice_status > 0) {\n      /* 해당 날짜에 이미 요청된 Alien 인 경우 -> front에서 Error 문구 처리 부탁드립니다. */\n      console.log(\"이미 인증요청 완료된 건 입니다.\");\n      return;\n    } else {\n      alien.alien.practice_status = 1;\n    }\n\n    e.preventDefault();\n    const res = await api.get(\"/main/s3Url\");\n\n    const { url } = res.data;\n    // post the image direclty to the s3 bucket\n    if (authImage) {\n      await fetch(url, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n        body: authImage[0],\n      });\n    }\n    const imageUrl = url.split(\"?\")[0];\n    const resp = {\n      user_info_id: alien.alien.user_info_id,\n      alien_id: alien.alien.id,\n      challenge_id: alien.alien.challenge_id,\n      comments: authMessage,\n      image_url: imageUrl,\n    };\n\n    // post requst to my server to store any extra data\n    const result = await api.post(\"/challenge/auth\", resp);\n    console.log(result);\n  };\n\n  return (\n    <>\n      <div>\n        <div className={showAuthRequestModal ? \"AuthRequestModal\" : \"hidden\"}>\n          <div className=\"max-w-md mx-auto bg-white rounded-lg overflow-hidden md:max-w-lg\">\n            <div className=\"md:flex\">\n              <div className=\"w-full px-4 py-6\">\n                <div className=\"mb-1\">\n                  <span className=\"text-sm\"> Comment </span>\n                  <textarea\n                    type=\"text\"\n                    className=\"Comment\"\n                    placeholder=\"인증 사진과 실천 내용을 간단히 설명해주세요.\"\n                    onChange={(e) => {\n                      setAuthMessage(e.target.value);\n                    }}\n                  ></textarea>\n                </div>\n                {/* <div className=\"mb-1\">\n                  <span className=\"text-sm text-gray-400\">\n                    인증 사진과 실천 내용을 간단히 설명해주세요.\n                  </span>\n                </div> */}\n                <div className=\"mb-1\">\n                  <span>인증 사진 첨부</span>\n                  <div className=\"Attachments\">\n                    <div className=\"absolute\">\n                      <div className=\"flex flex-col items-center\">\n                        <i className=\"fa fa-folder-open fa-3x text-blue-700\"></i>\n                        <span className=\"block text-gray-400 font-normal\">\n                          챌린지 인증 사진을 첨부하세요.\n                        </span>\n                      </div>\n                    </div>\n\n                    <input\n                      type=\"file\"\n                      className=\"h-full w-full opacity-0\"\n                      name=\"\"\n                      accept=\"image/*\"\n                      id=\"imageInput\"\n                      onChange={(e) => {\n                        setAuthImage(e.target.files);\n                        // processImage(e);\n                      }}\n                    />\n                  </div>\n                </div>\n                {authImage && authImage[0] ? (\n                  <img src={URL.createObjectURL(authImage[0])}></img>\n                ) : (\n                  <div></div>\n                )}\n                <div className=\"mt-3 text-right\">\n                  <button\n                    onClick={() => {\n                      dispatch(actions.showModal2(false));\n                    }}\n                  >\n                    뒤로 가기\n                  </button>\n                  <button\n                    onClick={handleSubmit}\n                    className=\"\n                ml-2\n                h-8\n                w-20\n                bg-blue-600\n                rounded\n                text-white\n                hover:bg-blue-700\n              \"\n                  >\n                    인증하기\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}