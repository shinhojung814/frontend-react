{"ast":null,"code":"var _jsxFileName = \"/Users/shinhojung/git/raising-alien-creatures/client/src/pages/MultiAquarium/Room/PlazaRoom.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Room from \"../../../shared/room/RoomClient\";\nimport { useDispatch } from \"react-redux\";\nimport * as actions from \"../../../Redux/actions\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../../../apis\";\nimport cn from \"classnames\";\nimport \"./PlazaRoom.css\";\nimport searchIcon from \"../image/search-icon.png\";\nimport backIcon from \"../image/goback-icon.png\";\nimport tigerIcon from \"../image/무케.jpg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function PlazaRoom(props) {\n  _s();\n\n  const dispatch = useDispatch(); // 챌린지 정보 가져오기\n\n  const roomId = \"plaza\";\n  const {\n    rooms\n  } = props;\n  if (!rooms.current) rooms.current = {};\n  if (!rooms.current[roomId]) rooms.current[roomId] = new Room(roomId);\n  const [longer, setLonger] = useState(false);\n  const [challengeList, setChallengeList] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  useEffect(() => {\n    try {\n      const fetchData = async () => {\n        const res = await api.get(\"/main\");\n        console.log(\"fetch main data\", res.data);\n\n        if (res.data.result === \"success\") {\n          // rooms 상태 정보\n          console.log(\"plazaroom:\", roomId);\n          rooms.current[roomId].initMonsters(res.data.data);\n          rooms.current[roomId].start(); // TODO: redux\n\n          dispatch(actions.setRoom({\n            roomId: roomId,\n            aliens: res.data.data\n          }));\n        } else {}\n      };\n\n      fetchData();\n    } catch (err) {\n      console.error(\"fetchData fail\", err);\n    }\n\n    return () => {\n      rooms.current[roomId].close();\n    }; //   }, []);\n  }, [rooms, roomId, dispatch]);\n\n  const backClick = () => {\n    setLonger(false);\n    setMessage(\"\");\n    document.getElementById(\"input\").value = \"\";\n  };\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    let keyword = {\n      keyword: document.getElementById(\"input\").value\n    };\n    let res = await api.post(\"/challenge/search\", keyword);\n\n    if (res.data.result !== \"success\") {\n      console.log(\"안받아와짐\");\n      return;\n    }\n\n    if (res.data.result === \"success\") {\n      if (res.data.challenge.length === 0) {\n        setMessage(\"검색된 챌린지가 없습니다\");\n      } else {\n        setChallengeList(res.data.challenge);\n        setLonger(true);\n        setMessage(\"\");\n      }\n\n      return;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: cn(\"NormalBox\", {\n      longer\n    }),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top\",\n      children: [longer && /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"goback\",\n        onClick: backClick,\n        alt: \"\\uB4A4\\uB85C\\uAC00\\uAE30\",\n        src: backIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/challenge/new`,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"newChallenge\",\n          children: \"새로운 챌린지 생성\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"double\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"input\",\n            placeholder: \" \",\n            onSubmit: onSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"input\",\n            children: \" \\uC5B4\\uB5A4 \\uCC4C\\uB9B0\\uC9C0\\uB97C \\uCC3E\\uC73C\\uC2DC\\uB098\\uC694?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"search\",\n            onClick: onSubmit,\n            alt: \"search\",\n            src: searchIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"errmsg\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), longer && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"findChallenge\",\n      children: challengeList.map(challenge => /*#__PURE__*/_jsxDEV(ChallengeItem, {\n        challenge: challenge\n      }, challenge.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PlazaRoom, \"W5U5Exa2AWBv409TiDbjKM59/FM=\", false, function () {\n  return [useDispatch];\n});\n\n_c = PlazaRoom;\n\nconst ChallengeItem = ({\n  challenge\n}) => {\n  _s2();\n\n  const [expand, setExpand] = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: () => setExpand(!expand),\n    className: cn(\"challengeItem\", {\n      expand\n    }),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"challengeName\",\n      children: challenge.challengeName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"challengeImg\",\n      alt: \"yammy\",\n      src: tigerIcon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"participant\",\n      children: [\"\\uCC38\\uC5EC\\uC778\\uC6D0: \", challenge.participantNumber, \"/\", challenge.maxUserNumber, \"\\uBA85\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"participant\",\n      children: [\" \\uC8FC \\uC778\\uC99D\\uD69F\\uC218: \", challenge.cntOfWeek, \"\\uBC88\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), expand && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"createDate\",\n        children: [\"\\uC0DD\\uC131\\uC77C: \", challenge.createDate.split(\"T\")[0]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"createUser\",\n        children: [\"\\uC0DD\\uC131\\uC6D0: \", challenge.createUserNickName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Details\",\n        children: [\"\\uCC4C\\uB9B0\\uC9C0 \\uC124\\uBA85: \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this), challenge.challengeContent]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/challenge/${challenge.id}/room`,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"challengeButton\",\n          children: \"\\uCC4C\\uB9B0\\uC9C0 \\uBC29 \\uAC00\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(ChallengeItem, \"V8NQrAFSLXwZu43JmcjJwSuHwmw=\");\n\n_c2 = ChallengeItem;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"PlazaRoom\");\n$RefreshReg$(_c2, \"ChallengeItem\");","map":{"version":3,"sources":["/Users/shinhojung/git/raising-alien-creatures/client/src/pages/MultiAquarium/Room/PlazaRoom.js"],"names":["React","useState","useEffect","Room","useDispatch","actions","Link","api","cn","searchIcon","backIcon","tigerIcon","PlazaRoom","props","dispatch","roomId","rooms","current","longer","setLonger","challengeList","setChallengeList","message","setMessage","fetchData","res","get","console","log","data","result","initMonsters","start","setRoom","aliens","err","error","close","backClick","document","getElementById","value","onSubmit","e","preventDefault","keyword","post","challenge","length","map","id","ChallengeItem","expand","setExpand","challengeName","participantNumber","maxUserNumber","cntOfWeek","createDate","split","createUserNickName","challengeContent"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Room from \"../../../shared/room/RoomClient\";\nimport { useDispatch } from \"react-redux\";\nimport * as actions from \"../../../Redux/actions\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../../../apis\";\nimport cn from \"classnames\";\nimport \"./PlazaRoom.css\";\nimport searchIcon from \"../image/search-icon.png\";\nimport backIcon from \"../image/goback-icon.png\";\nimport tigerIcon from \"../image/무케.jpg\";\n\nexport default function PlazaRoom(props) {\n  const dispatch = useDispatch();\n\n  // 챌린지 정보 가져오기\n  const roomId = \"plaza\";\n  const { rooms } = props;\n  if (!rooms.current) rooms.current = {};\n  if (!rooms.current[roomId]) rooms.current[roomId] = new Room(roomId);\n\n  const [longer, setLonger] = useState(false);\n  const [challengeList, setChallengeList] = useState(null);\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    try {\n      const fetchData = async () => {\n        const res = await api.get(\"/main\");\n        console.log(\"fetch main data\", res.data);\n        if (res.data.result === \"success\") {\n          // rooms 상태 정보\n          console.log(\"plazaroom:\", roomId);\n          rooms.current[roomId].initMonsters(res.data.data);\n          rooms.current[roomId].start();\n          // TODO: redux\n          dispatch(actions.setRoom({ roomId: roomId, aliens: res.data.data }));\n        } else {\n        }\n      };\n      fetchData();\n    } catch (err) {\n      console.error(\"fetchData fail\", err);\n    }\n    return () => {\n      rooms.current[roomId].close();\n    };\n    //   }, []);\n  }, [rooms, roomId, dispatch]);\n\n  const backClick = () => {\n    setLonger(false);\n    setMessage(\"\");\n    document.getElementById(\"input\").value = \"\";\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n\n    let keyword = { keyword: document.getElementById(\"input\").value };\n    let res = await api.post(\"/challenge/search\", keyword);\n    if (res.data.result !== \"success\") {\n      console.log(\"안받아와짐\");\n      return;\n    }\n    if (res.data.result === \"success\") {\n      if (res.data.challenge.length === 0) {\n        setMessage(\"검색된 챌린지가 없습니다\");\n      } else {\n        setChallengeList(res.data.challenge);\n        setLonger(true);\n        setMessage(\"\");\n      }\n      return;\n    }\n  };\n\n  return (\n    <div className={cn(\"NormalBox\", { longer })}>\n      <div className=\"top\">\n        {longer && (\n          <img\n            className=\"goback\"\n            onClick={backClick}\n            alt=\"뒤로가기\"\n            src={backIcon}\n          ></img>\n        )}\n        <Link to={`/challenge/new`}>\n          <button className={\"newChallenge\"}>{\"새로운 챌린지 생성\"}</button>\n        </Link>\n      </div>\n      <div className=\"header\">\n        <form onSubmit={onSubmit}>\n          <div className = 'double'>\n          <input id=\"input\" placeholder=\" \" onSubmit = {onSubmit}/>\n          <label for=\"input\"> 어떤 챌린지를 찾으시나요?</label>\n          <img\n            className=\"search\"\n            onClick={onSubmit}\n            alt=\"search\"\n            src={searchIcon}\n          ></img>\n          </div>\n        </form>\n        {message && <div className=\"errmsg\">{message}</div>}\n      </div>\n      {longer && (\n        <div className=\"findChallenge\">\n          {challengeList.map((challenge) => (\n            <ChallengeItem\n              key={challenge.id}\n              challenge={challenge}\n            ></ChallengeItem>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst ChallengeItem = ({ challenge }) => {\n  const [expand, setExpand] = useState(false);\n\n  return (\n    <div\n      onClick={() => setExpand(!expand)}\n      className={cn(\"challengeItem\", { expand })}\n    >\n      <div className=\"challengeName\">{challenge.challengeName}</div>\n      <img className=\"challengeImg\" alt=\"yammy\" src={tigerIcon} />\n      <div className=\"participant\">\n        참여인원: {challenge.participantNumber}/{challenge.maxUserNumber}명\n      </div>\n      <div className=\"participant\"> 주 인증횟수: {challenge.cntOfWeek}번</div>\n      {expand && (\n        <>\n          <div className=\"createDate\">\n            생성일: {challenge.createDate.split(\"T\")[0]}\n          </div>\n          <div className=\"createUser\">\n            생성원: {challenge.createUserNickName}\n          </div>\n          <div className=\"Details\">\n            챌린지 설명: <br />\n            {challenge.challengeContent}\n          </div>\n          <Link to={`/challenge/${challenge.id}/room`}>\n            <button className=\"challengeButton\">챌린지 방 가기</button>\n          </Link>\n        </>\n      )}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}